---
id: bond-math
title: 채권 수학 & 분석
sidebar_label: 채권 수학
description: 현재가치 계산부터 OAS 모델링까지, 채권 분석에 필요한 수학적 도구와 수치 기법을 체계적으로 해설
keywords: [채권수학, 듀레이션, 컨벡시티, YTM, DV01, PV01, 키레이트듀레이션, 부트스트래핑, 포워드금리, OAS]
---

# 채권 수학 & 분석

채권 분석의 핵심은 수학적 도구를 활용한 정밀한 가치 평가와 리스크 측정입니다. 현재가치 계산에서 시작하여, 수익률 산출, 듀레이션과 컨벡시티를 통한 금리 민감도 분석, 수익률 곡선 구축, 그리고 옵션 내재 채권의 평가까지, 채권 투자의 모든 단계에서 수학적 엄밀성이 요구됩니다. 이 문서에서는 채권 분석에 필요한 핵심 수학 공식들과 수치 예제를 체계적으로 다룹니다.

## 현재가치와 채권 가격 결정

### 기본 현재가치 공식

채권 가격은 미래 현금흐름의 현재가치 합입니다. 연 1회 쿠폰을 지급하는 채권의 가격 $P$는 다음과 같이 계산됩니다.

$$P = \sum_{t=1}^{n} \frac{C}{(1+r)^t} + \frac{F}{(1+r)^n}$$

여기서 $C$는 연간 쿠폰, $F$는 액면가, $r$은 할인율(YTM), $n$은 만기(년)입니다.

반기 쿠폰 지급 채권의 경우 공식이 다음과 같이 조정됩니다.

$$P = \sum_{t=1}^{2n} \frac{C/2}{(1+r/2)^t} + \frac{F}{(1+r/2)^{2n}}$$

### 수치 예제: 채권 가격 계산

액면가 10,000원, 쿠폰 금리 4%(반기 지급), 만기 3년, YTM 5%인 채권의 가격을 계산합니다.

반기 쿠폰 = 10,000 x 4% / 2 = 200원
반기 YTM = 5% / 2 = 2.5%
기간 수 = 3 x 2 = 6

| 기간 | 현금흐름 | 할인인자 1/(1.025)^t | 현재가치 |
|------|---------|-------------------|---------|
| 1 | 200 | 0.97561 | 195.12 |
| 2 | 200 | 0.95181 | 190.36 |
| 3 | 200 | 0.92860 | 185.72 |
| 4 | 200 | 0.90595 | 181.19 |
| 5 | 200 | 0.88385 | 176.77 |
| 6 | 10,200 | 0.86230 | 8,795.43 |
| **합계** | | | **9,724.59** |

채권 가격은 9,724.59원으로, 쿠폰 금리(4%)가 YTM(5%)보다 낮으므로 할인 발행(액면가 이하) 상태입니다.

## YTM 계산: 뉴턴-랩슨 방법

### YTM의 정의

만기수익률(YTM)은 채권의 시장 가격을 미래 현금흐름의 현재가치 합계와 같게 만드는 할인율입니다. 수학적으로 다음 방정식의 해 $y$를 구하는 것입니다.

$$P = \sum_{t=1}^{n} \frac{CF_t}{(1+y)^t}$$

이 방정식은 해석적(closed-form) 풀이가 불가능하므로 수치해법을 사용합니다.

### 뉴턴-랩슨(Newton-Raphson) 알고리즘

뉴턴-랩슨 방법은 반복 계산을 통해 YTM을 빠르게 수렴시키는 수치 기법입니다.

함수 $f(y)$를 다음과 같이 정의합니다.

$$f(y) = \sum_{t=1}^{n} \frac{CF_t}{(1+y)^t} - P$$

$f(y) = 0$을 만족하는 $y$가 YTM입니다. 뉴턴-랩슨 반복식은 다음과 같습니다.

$$y_{k+1} = y_k - \frac{f(y_k)}{f'(y_k)}$$

여기서 $f'(y)$는 도함수입니다.

$$f'(y) = -\sum_{t=1}^{n} \frac{t \cdot CF_t}{(1+y)^{t+1}}$$

**수치 예제**: 액면가 10,000원, 쿠폰 3%(연 1회), 만기 5년 채권이 9,600원에 거래될 때 YTM을 구합니다.

초기 추정값 $y_0$ = 쿠폰률 + (액면가 - 가격) / (만기 x 가격) = 0.03 + (10000 - 9600) / (5 x 9600) = 0.03 + 0.00833 = 0.03833

1차 반복: $f(0.03833)$을 계산하고, $f'(0.03833)$으로 나누어 보정값을 구합니다. 수회 반복하면 YTM은 약 3.90%로 수렴합니다.

:::tip YTM 계산의 실무 도구
실무에서는 뉴턴-랩슨 방법을 직접 구현하기보다 스프레드시트의 YIELD 함수, Python의 scipy.optimize.brentq, 또는 Bloomberg 터미널의 YAS 기능을 사용합니다. 다만 수치해법의 원리를 이해하는 것은 결과의 검증과 특수한 상황(비정형 현금흐름 채권 등)에서의 분석에 필수적입니다.
:::

## 듀레이션 분석

### 맥컬리 듀레이션 (Macaulay Duration)

맥컬리 듀레이션 $D_{Mac}$은 현금흐름의 현재가치로 가중한 평균 회수 기간입니다.

$$D_{Mac} = \frac{1}{P} \sum_{t=1}^{n} t \cdot \frac{CF_t}{(1+y)^t}$$

**수치 예제**: 앞서 계산한 3년 만기 채권(반기 쿠폰)의 맥컬리 듀레이션을 구합니다.

| 기간(반기) | 시점(년) | 현재가치(PV) | PV x 시점 |
|-----------|---------|-----------|----------|
| 1 | 0.5 | 195.12 | 97.56 |
| 2 | 1.0 | 190.36 | 190.36 |
| 3 | 1.5 | 185.72 | 278.58 |
| 4 | 2.0 | 181.19 | 362.38 |
| 5 | 2.5 | 176.77 | 441.93 |
| 6 | 3.0 | 8,795.43 | 26,386.29 |
| **합계** | | **9,724.59** | **27,757.10** |

$D_{Mac}$ = 27,757.10 / 9,724.59 = **2.854년**

### 수정 듀레이션 (Modified Duration)

수정 듀레이션 $D_{Mod}$는 금리 변화에 대한 채권 가격의 백분율 변화를 측정합니다.

$$D_{Mod} = \frac{D_{Mac}}{1 + y/m}$$

여기서 $m$은 연간 쿠폰 지급 횟수입니다.

위 예제에서: $D_{Mod}$ = 2.854 / (1 + 0.05/2) = 2.854 / 1.025 = **2.785**

이는 YTM이 1%(100bp) 변동할 때 채권 가격이 약 2.785% 변동한다는 의미입니다.

가격 변화 근사: $\frac{\Delta P}{P} \approx -D_{Mod} \times \Delta y$

### 유효 듀레이션 (Effective Duration)

옵션 내재 채권(콜러블, 풋어블, MBS)에는 수정 듀레이션 대신 유효 듀레이션을 사용합니다.

$$D_{Eff} = \frac{P_{-} - P_{+}}{2 \cdot P_0 \cdot \Delta y}$$

여기서 $P_{-}$는 금리를 $\Delta y$만큼 내렸을 때 가격, $P_{+}$는 올렸을 때 가격, $P_0$는 현재 가격입니다.

**수치 예제**: 현재 가격 100, 금리 10bp 하락 시 가격 100.35, 10bp 상승 시 가격 99.60인 콜러블 채권

$D_{Eff}$ = (100.35 - 99.60) / (2 x 100 x 0.001) = 0.75 / 0.20 = **3.75**

콜러블 채권의 유효 듀레이션은 동일 조건 일반 채권보다 짧습니다. 금리가 하락하면 콜 행사 가능성이 높아져 가격 상승이 제한되기 때문입니다.

### 키레이트 듀레이션 (Key Rate Duration)

키레이트 듀레이션은 수익률 곡선의 특정 만기 포인트만 변동시켰을 때 채권 가격의 민감도를 측정합니다. 수익률 곡선의 비평행 이동(기울기 변화, 곡률 변화)에 대한 노출을 분석할 수 있습니다.

$$KRD_k = \frac{P_{k,-} - P_{k,+}}{2 \cdot P_0 \cdot \Delta y_k}$$

여기서 $k$는 특정 만기 포인트(예: 2년, 5년, 10년, 30년)를 나타냅니다.

모든 키레이트 듀레이션의 합은 유효 듀레이션과 동일합니다.

$$D_{Eff} = \sum_{k} KRD_k$$

**실무 활용**: 바벨 포트폴리오의 키레이트 듀레이션은 2년과 30년 포인트에 집중되고, 불릿 포트폴리오는 5년 포인트에 집중됩니다. 수익률 곡선 형태 변화에 따른 각 포트폴리오의 손익을 정밀하게 분석할 수 있습니다.

## 컨벡시티 분석

### 컨벡시티의 수학적 정의

컨벡시티 $C$는 가격-수익률 관계의 2차 도함수를 가격으로 나눈 값입니다.

$$C = \frac{1}{P} \cdot \frac{d^2P}{dy^2} = \frac{1}{P \cdot (1+y)^2} \sum_{t=1}^{n} \frac{t(t+1) \cdot CF_t}{(1+y)^t}$$

반기 쿠폰 채권의 달러 컨벡시티는 다음과 같이 조정됩니다.

$$C_{semi} = \frac{1}{P \cdot (1+y/2)^2} \sum_{t=1}^{2n} \frac{t(t+1) \cdot CF_t}{(1+y/2)^t} \times \frac{1}{4}$$

### 듀레이션-컨벡시티 가격 변화 추정

듀레이션과 컨벡시티를 결합한 가격 변화 추정 공식은 다음과 같습니다.

$$\frac{\Delta P}{P} \approx -D_{Mod} \cdot \Delta y + \frac{1}{2} \cdot C \cdot (\Delta y)^2$$

**수치 예제**: 수정 듀레이션 7.0, 컨벡시티 60인 채권에서 금리가 200bp(2%) 상승할 때

- 듀레이션 효과: -7.0 x 0.02 = -14.0%
- 컨벡시티 효과: 0.5 x 60 x (0.02)^2 = +1.2%
- 총 가격 변화: -14.0% + 1.2% = **-12.8%**

듀레이션만 사용하면 -14.0%로 추정하지만, 컨벡시티를 고려하면 -12.8%로 실제에 더 가깝습니다.

| 금리 변동 | 듀레이션만 | 듀레이션+컨벡시티 | 실제 변화 |
|----------|----------|----------------|---------|
| -2% | +14.0% | +15.2% | +15.4% |
| -1% | +7.0% | +7.3% | +7.3% |
| +1% | -7.0% | -6.7% | -6.7% |
| +2% | -14.0% | -12.8% | -12.6% |

금리 변동폭이 클수록 컨벡시티 보정의 중요성이 커집니다.

:::tip 양의 컨벡시티와 음의 컨벡시티
일반 채권은 양의 컨벡시티를 가져 투자자에게 유리합니다(금리 하락 시 더 많이 오르고 상승 시 덜 내립니다). 반면 콜러블 채권과 MBS는 금리가 일정 수준 이하로 하락하면 음의 컨벡시티를 보입니다. 이는 금리 하락 시 조기 상환 가능성이 증가하여 가격 상승이 제한되기 때문입니다. 음의 컨벡시티 영역에서는 금리 하락에도 불구하고 가격이 오히려 하락할 수 있어 각별한 주의가 필요합니다.
:::

## DV01과 PV01

### DV01 (Dollar Value of a Basis Point)

DV01은 수익률이 1bp(0.01%) 변동할 때 채권 가격의 절대적 변화액입니다.

$$DV01 = \frac{P_{-1bp} - P_{+1bp}}{2}$$

또는 근사적으로:

$$DV01 \approx D_{Mod} \times P \times 0.0001$$

**수치 예제**: 수정 듀레이션 5.0, 가격 10,000원인 채권

$DV01$ = 5.0 x 10,000 x 0.0001 = **5.0원**

금리가 1bp 변동할 때 채권 가격이 약 5원 변동합니다. 이 채권 100억원을 보유하고 있다면, 1bp 변동에 따른 손익은 50만원입니다.

### PV01 (Present Value of a Basis Point)

PV01은 스왑 시장에서 주로 사용되는 개념으로, 스왑 금리가 1bp 변동할 때 스왑의 가치 변화를 나타냅니다. 명목원금 대비로 표현되며, 채권의 DV01과 유사한 역할을 합니다.

### 스프레드 듀레이션 (Spread Duration)

스프레드 듀레이션은 신용 스프레드가 1bp 변동할 때 채권 가격의 변화를 측정합니다. 국채의 스프레드 듀레이션은 0이고, 회사채의 스프레드 듀레이션은 금리 듀레이션과 다를 수 있습니다(특히 변동금리채의 경우).

$$SD = \frac{P_{s-} - P_{s+}}{2 \cdot P_0 \cdot \Delta s}$$

변동금리채(FRN)는 금리 듀레이션이 거의 0에 가깝지만, 스프레드 듀레이션은 만기까지의 기간과 유사합니다. 이는 기준금리 변동에는 쿠폰이 연동되어 가격이 안정적이지만, 발행자의 신용 스프레드 변화에는 가격이 민감하게 반응하기 때문입니다.

## 수익률 곡선 구축

### 부트스트래핑 (Bootstrapping)

부트스트래핑은 이표채의 시장 가격에서 제로쿠폰 수익률(스팟 금리)을 추출하는 방법입니다. 단기 만기부터 시작하여 순차적으로 장기 스팟 금리를 도출합니다.

**절차**

1단계: 1년 만기 할인채의 가격에서 1년 스팟 금리 $z_1$을 직접 구합니다.

$$P_1 = \frac{F}{1+z_1} \Rightarrow z_1 = \frac{F}{P_1} - 1$$

2단계: 2년 만기 이표채의 가격과 이미 구한 $z_1$을 사용하여 2년 스팟 금리 $z_2$를 구합니다.

$$P_2 = \frac{C}{1+z_1} + \frac{C+F}{(1+z_2)^2}$$

3단계: 같은 방식으로 $z_3$, $z_4$, ... 를 순차적으로 도출합니다.

**수치 예제**

| 만기 | 쿠폰 금리 | 시장 가격 | 스팟 금리(부트스트랩 결과) |
|------|---------|---------|---------------------|
| 1년 | 0% (할인채) | 9,709.0 | 3.00% |
| 2년 | 3.5% | 10,000.0 | 3.50% |
| 3년 | 4.0% | 10,028.0 | 3.96% |
| 5년 | 4.5% | 10,100.0 | 4.38% |

1년: $z_1$ = 10,000/9,709 - 1 = 3.00%

2년: 10,000 = 350/(1.03) + 10,350/(1+$z_2$)^2
350/1.03 = 339.81
10,000 - 339.81 = 9,660.19
(1+$z_2$)^2 = 10,350/9,660.19 = 1.07139
$z_2$ = 3.508%

### 포워드 금리 도출

스팟 금리 곡선에서 내재 포워드 금리(Implied Forward Rate)를 계산할 수 있습니다. $t_1$년 후부터 $t_2$년 후까지의 포워드 금리 $f(t_1, t_2)$는 다음과 같습니다.

$$[1+f(t_1,t_2)]^{(t_2-t_1)} = \frac{(1+z_{t_2})^{t_2}}{(1+z_{t_1})^{t_1}}$$

**수치 예제**: 1년 스팟 금리 3.0%, 2년 스팟 금리 3.5%일 때, 1년 후 1년 포워드 금리는

$(1+f)$ = $(1.035)^2$ / $(1.03)^1$ = 1.07123 / 1.03 = 1.04002

$f(1,2)$ = 4.00%

이는 시장이 1년 후 1년 금리를 약 4.00%로 기대하고 있다는 의미입니다(무차익거래 조건 하에서).

:::caution 포워드 금리의 해석
내재 포워드 금리가 미래 실제 금리를 정확히 예측하는 것은 아닙니다. 포워드 금리에는 미래 금리에 대한 기대뿐만 아니라 기간 프리미엄(Term Premium)이 포함되어 있습니다. 순수기대이론이 성립하지 않는 한, 포워드 금리는 미래 현물 금리의 편향된(biased) 추정치입니다. 다만 포워드 금리는 차익거래 기회의 판단, 스왑 가격 결정, 채권의 상대가치 분석에서 핵심적인 역할을 합니다.
:::

## OAS 모델링

### 이항 금리 트리 (Binomial Interest Rate Tree)

OAS 계산을 위한 가장 기본적인 모형은 이항 금리 트리입니다. 각 노드에서 금리가 상승하거나 하락하는 두 가지 경로를 가정합니다.

**구축 절차**

1. 현재의 스팟 금리 곡선과 금리 변동성을 입력합니다
2. 무차익거래 조건을 만족하도록 각 노드의 금리를 보정(Calibration)합니다
3. 각 금리 경로에서 채권의 현금흐름을 계산합니다(콜/풋 행사 여부 포함)
4. 후진귀납법(Backward Induction)으로 현재 가치를 계산합니다

**OAS 도출**: 모형에서 계산된 이론 가격과 시장 가격이 일치하도록 모든 경로의 할인율에 일정한 스프레드(OAS)를 더합니다.

$$P_{market} = E\left[\sum_{t=1}^{n} \frac{CF_t}{\prod_{s=1}^{t}(1+r_s+OAS)}\right]$$

### 몬테카를로 시뮬레이션

MBS와 같이 경로 의존적(Path-dependent) 현금흐름을 가진 채권은 이항 트리보다 몬테카를로 시뮬레이션이 적합합니다. 수천~수만 개의 금리 경로를 생성하고, 각 경로에서의 현금흐름을 계산하여 평균 현재가치를 구합니다.

## 실무 분석 도구 요약

| 분석 목적 | 핵심 지표 | 공식/방법론 | 활용 상황 |
|----------|---------|-----------|---------|
| 가격 결정 | 현재가치 | DCF | 채권 발행/매수 시 |
| 수익률 측정 | YTM | Newton-Raphson | 투자 수익률 비교 |
| 금리 위험(1차) | 수정 듀레이션 | Mac.D / (1+y) | 일상적 리스크 관리 |
| 금리 위험(2차) | 컨벡시티 | 2차 도함수 | 대규모 금리 변동 분석 |
| 옵션 채권 위험 | 유효 듀레이션 | 수치 미분 | 콜러블/MBS 분석 |
| 곡선 위험 | 키레이트 듀레이션 | 부분 수치 미분 | 곡선 전략 수립 |
| 절대 위험액 | DV01 | D x P x 0.0001 | 위험 한도 관리 |
| 곡선 구축 | 스팟 금리 | 부트스트래핑 | 가격 결정 인프라 |
| 미래 금리 | 포워드 금리 | 차익거래 관계 | 전략 수립, 스왑 가격 |
| 옵션 가치 | OAS | 금리 트리/MC | 옵션 내재 채권 비교 |

:::danger 모형 위험(Model Risk) 경고
모든 수학적 모형은 현실의 단순화입니다. 듀레이션 분석은 수익률 곡선의 평행이동을 가정하지만 실제로는 비평행 이동이 빈번합니다. OAS 모형은 금리 변동성 가정에 민감하며, 가정된 변동성이 실현 변동성과 다를 경우 OAS가 왜곡됩니다. 부트스트래핑에서도 중간 만기 금리의 보간 방법에 따라 결과가 달라질 수 있습니다. 수학적 도구는 의사결정을 보조하는 것이지, 대체하는 것이 아닙니다.
:::

## 관련 페이지

채권 수학의 기초가 되는 가치평가 이론은 [채권 밸류에이션](/assets/bonds/intro)에서 학습하실 수 있습니다. 수학적 도구를 활용한 실전 전략은 [채권 투자 전략](/assets/bonds/bond-strategies)에서 다루고 있습니다. 회사채의 스프레드 분석에 대한 실무적 내용은 [회사채 투자 가이드](/assets/bonds/corporate-bonds)를, 국채 수익률 곡선의 분석은 [국채 투자 완전 가이드](/assets/bonds/government-bonds)를 참조하십시오.
